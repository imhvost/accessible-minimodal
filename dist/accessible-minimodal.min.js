/*!
 * accessible-minimodal v1.3.0
 * https://github.com/imhvost/accessible-minimodal
 * 
 */!function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e),o.d(e,"AccessibleMinimodal",(function(){return i}));const i=(()=>{const t='\n    button:not([disabled]),\n    [href],\n    input:not([disabled]):not([type="hidden"]):not([aria-hidden]),\n    select:not([disabled]):not([aria-hidden]),\n    textarea:not([disabled]):not([aria-hidden]),\n    [tabindex]:not([tabindex="-1"]),\n    [contenteditable="true"]\n  ',e={animationDuration:400,classes:{modal:"modal",wrapp:"modal-wrapp",body:"modal-body",active:"active",open:"open",close:"close"},disableScroll:!0,focus:!0,hash:{open:!1,add:!1,remove:!1},multiple:!1,multipleClosePrev:!0,on:{beforeOpen:function(t){},afterOpen:function(t){},beforeClose:function(t){},afterClose:function(t){}},outsideClose:!0,style:{use:!0,width:400,valign:"center",animation:"from-bottom"},triggers:{open:"data-modal-open",close:"data-modal-close",closeAll:"data-modal-close-all"}};class o{constructor(t){this.modal=null,this.backFocusNode=null,this.openingNode=null,this.on=t.on,this.animated=!1,this.config={animationDuration:t.animationDuration,triggers:t.triggers,disableScroll:t.disableScroll,focus:t.focus,hash:t.hash,style:t.style,classes:t.classes,outsideClose:t.outsideClose,multiple:t.multiple,multipleClosePrev:t.multipleClosePrev},this.modals=[],this.onKeydown=this.onKeydown.bind(this),this.registerTriggers(),this.addStyles(),this.init()}init(){if(this.config.hash.open){const t=window.location.hash?window.location.hash.substr(1):"";t&&this.openModal(t)}if(this.config.disableScroll){const t=document.querySelector("html");this.config.disableScrollStylesDefault={html:{overflowY:t.style.overflowY,paddingRight:t.style.paddingRight},body:{overflowY:document.body.style.overflowY}}}}registerTriggers(){document.addEventListener("click",t=>{if((null!==t.target.getAttribute(this.config.triggers.closeAll)||t.target.closest(`[${this.config.triggers.closeAll}]`))&&(t.preventDefault(),this.closeAllModals()),t.target.getAttribute(this.config.triggers.open)||t.target.closest(`[${this.config.triggers.open}]`)){t.preventDefault();const e=t.target.getAttribute(this.config.triggers.open)?t.target:t.target.closest(`[${this.config.triggers.open}]`),o=e.getAttribute(this.config.triggers.open);this.openModal(o,e)}if(null!==t.target.getAttribute(this.config.triggers.close)||t.target.closest(`[${this.config.triggers.close}]`)){t.preventDefault();const e=t.target.getAttribute(this.config.triggers.close)||t.target.closest(`[${this.config.triggers.close}]`).getAttribute(this.config.triggers.close);this.modal&&this.closeModal(e)}this.config.outsideClose&&t.target.classList.contains(this.config.classes.wrapp)&&(t.preventDefault(),this.modal&&this.closeModal(this.modal.id))},!1)}openModal(e,o,i=!1){let n=this.modal?this.config.animationDuration:0;if(this.modal){const t=this.modal.id;this.config.multiple&&!i?(this.config.multipleClosePrev?this.closeModal(this.modal.id,!1,!0):n=0,this.modals.push(t)):this.closeModal(this.modal.id,!1,!0)}setTimeout(()=>{if(this.modal=document.getElementById(e),this.modal&&!this.animated){if(this.on.beforeOpen(this),this.animated=!0,this.openingNode=o,this.backFocusNode||(this.backFocusNode=o),this.modal.classList.add(this.config.classes.open),this.config.hash.add&&window.history.replaceState("",document.title,"#"+e),this.config.disableScroll){const t=this.getScrollbarWidth(),e=document.querySelector("html");e.style.overflowY="hidden",e.style.paddingRight=t+"px",document.body.style.overflowY="hidden"}this.modal.classList.add(this.config.classes.active),this.modal.setAttribute("aria-hidden",!1),setTimeout(()=>{if(this.animated=!1,document.addEventListener("keydown",this.onKeydown),this.config.focus){const e=this.modal.querySelectorAll(t);if(!e)return;e[0].focus()}this.on.afterOpen(this),this.modal.classList.remove(this.config.classes.open)},this.config.animationDuration)}},n)}closeModal(t,e=!0,o=!1,i=!1){const n=t?document.getElementById(t):this.modal;if(n&&(!this.animated||i)&&(this.animated=!0,this.on.beforeClose(this),n.classList.add(this.config.classes.close),document.removeEventListener("keydown",this.onKeydown),n.classList.remove(this.config.classes.active),n.setAttribute("aria-hidden",!0),this.config.hash.remove&&window.history.replaceState("",document.title,window.location.pathname+window.location.search),setTimeout(()=>{if(this.animated=!1,this.config.disableScroll){const t=document.querySelector("html"),e=this.config.disableScrollStylesDefault;t.style.overflowY=e.html.overflowY,t.style.paddingRight=e.html.paddingRight,document.body.style.overflowY=e.body.overflowY}this.on.afterClose(this),n.classList.remove(this.config.classes.close),this.modal=null,e&&this.backFocusNode&&this.config.focus&&(this.backFocusNode.focus(),this.backFocusNode=null)},this.config.animationDuration),this.config.multiple&&!o&&!i)){const t=this.modals.pop();this.openModal(t,!1,!0)}}closeAllModals(){this.config.multiple&&!this.config.multipleClosePrev&&this.modals&&(this.modals.forEach(t=>{this.closeModal(t,!1,!0,!0)}),this.modals=[]),this.closeModal(!1,!1,!1,!0)}getScrollbarWidth(){return window.screen.width-document.documentElement.clientWidth==0?0:window.innerWidth-document.documentElement.clientWidth}onKeydown(t){const e=t.keyCode;27===e&&this.closeModal(),9===e&&this.changeFocus(t)}changeFocus(e){if(!this.config.focus)return;const o=this.modal.querySelectorAll(t);if(!o)return;const i=o[0],n=o[o.length-1];e.shiftKey?e.target===i&&(n.focus(),e.preventDefault()):e.target===n&&(i.focus(),e.preventDefault())}addStyles(){if(!this.config.style.use)return;const t=this.config.classes.modal,e=this.config.classes.wrapp,o=this.config.classes.body,i=this.config.classes.active,n=this.config.triggers.close,s=function(t){switch(t){case"top":return"0 auto auto";case"bottom":return"auto auto 0";default:return"auto auto"}}(this.config.style.valign),l=function(t){switch(t){case"from-top":return"translateY(-20px)";case"from-left":return"translateX(-20px)";case"from-right":return"translateX(20px)";case"zoom-in":return"scale(.8)";case"zoom-out":return"scale(1.2)";case"fade":return"none";default:return"translateY(20px)"}}(this.config.style.animation),a=this.config.animationDuration,r=`\n.${t} {\nposition: fixed;\ntop: 0;\nright: 0;\nbottom: 0;\nleft: 0;\nz-index: 666666;\nopacity: 0;\nvisibility: hidden;\npointer-events: none;\ntransition: opacity ${a}ms, visibility ${a}ms;\n}\n.${t}.${i} {\nopacity: 1;\nvisibility: visible;\npointer-events: auto;\n}\n.${t}.${i} .${o} {\ntransform: none;\n}\n.${e} {\nwidth: 100%;\nheight: 100%;\ndisplay: flex;\nbackground-color: rgba(0, 0, 0, 0.7);\npadding: 40px 20px;\noverflow-y: scroll;\n}\n.${o} {\nbackground-color: #fff;\nflex: none;\nmin-height: 1px;\nborder-radius: 2px;\nwidth: ${this.config.style.width}px;\nmax-width: 100%;\nmargin: ${s};\npadding: 20px;\ntransition: ${a}ms;\ntransform: ${l};\nposition: relative;\n}\n.${o} [${n}] {\nposition: absolute;\nright: 10px;\ntop: 10px;\nwidth: 16px;\nheight: 16px;\nborder: 0;\nbackground: none;\ncursor: pointer;\n}\n.${o} [${n}]:before,\n.${o} [${n}]:after {\ncontent: '';\nposition: absolute;\ntop: 50%;\nleft: 0;\nright: 0;\nmargin-top: -1px;\nbackground-color: currentColor;\nheight: 2px;\n}\n.${o} [${n}]:before {\ntransform: rotate(45deg);\n}\n.${o} [${n}]:after {\ntransform: rotate(-45deg);\n}      \n`;document.head.insertAdjacentHTML("beforeend",`<style>${r}</style>`),document.querySelectorAll("."+this.config.classes.modal).forEach(t=>{t.style.display="block"})}}return{init:t=>{["style","on","triggers","hash","classes"].forEach(o=>{t&&t[o]&&(t[o]=Object.assign({},e[o],t[o]))});const i=Object.assign({},e,t);return new o(i)}}})();window.AccessibleMinimodal=i}]);